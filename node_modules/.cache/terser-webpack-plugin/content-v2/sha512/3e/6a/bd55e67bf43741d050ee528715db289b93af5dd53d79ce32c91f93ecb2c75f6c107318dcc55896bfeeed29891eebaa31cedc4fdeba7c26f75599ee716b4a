{"map":"{\"version\":3,\"sources\":[\"pSEngine.min.js\"],\"names\":[\"pSEngine\",\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"__webpack_exports__\",\"Vector\",\"[object Object]\",\"x\",\"y\",\"z\",\"color\",\"nameSize\",\"this\",\"setName\",\"undefined\",\"pSText\",\"equals\",\"set\",\"add\",\"sub\",\"isFinite\",\"console\",\"warn\",\"error\",\"mult\",\"v1\",\"v2\",\"copy\",\"div\",\"dot\",\"v\",\"vLen\",\"mag\",\"min\",\"max\",\"Math\",\"sqrt\",\"normalize\",\"angle\",\"newAngle\",\"getAngle\",\"magnitude\",\"cos\",\"sin\",\"atan2\",\"cross\",\"rotate\",\"initialPos\",\"headSize\",\"strokeWeight\",\"draw\",\"pointingPos\",\"strokeW\",\"plotter\",\"_pSimulationInstance\",\"config\",\"engine\",\"is_3D\",\"push\",\"drawer\",\"stroke\",\"fill\",\"translate\",\"line\",\"pop\",\"v0\",\"computeForXYZ\",\"zzPosition\",\"endPos\",\"triangle\",\"PI\",\"xOffset\",\"svgImg\",\"width\",\"yOffset\",\"height\",\"setColor\",\"pos\",\"text\",\"textSize\",\"showHitbox\",\"window\",\"MathJax\",\"setText\",\"posOpt\",\"image\",\"h\",\"w\",\"noFill\",\"svg\",\"tex2svg\",\"display\",\"em\",\"ex\",\"containerWidth\",\"lineWidth\",\"scale\",\"innerHTML\",\"split\",\"replace\",\"parseFloat\",\"exec\",\"loadImage\",\"URL\",\"createObjectURL\",\"Blob\",\"type\",\"stack\",\"stackPointer\",\"currentStackLevel\",\"getCurrentStackLevel\",\"sCurr\",\"length\",\"point\",\"x0\",\"y0\",\"x1\",\"y1\",\"dashSize\",\"dashSpacing\",\"drawingContext\",\"setLineDash\",\"rx\",\"ry\",\"abs\",\"ellipse\",\"beginShape\",\"vertex\",\"endShape\",\"CLOSE\",\"rect\",\"start\",\"stop\",\"arc\",\"g\",\"b\",\"a\",\"TYPE\",\"x2\",\"y2\",\"x3\",\"y3\",\"x4\",\"y4\",\"p1\",\"p2\",\"p3\",\"p4\",\"bezier\",\"enterStackLevel\",\"exitStackLevel\",\"pushStackOperation\",\"fac\",\"noStroke\",\"animations_pSAnimationHandler\",\"timeLength\",\"datas\",\"scaleTime\",\"isAnimating\",\"initialT\",\"lastKey\",\"getKey\",\"update\",\"Date\",\"getTime\",\"f\",\"dt\",\"finalDraw\",\"animations_pSInterpolation\",\"super\",\"currentShape\",\"nextShape\",\"localDt\",\"points\",\"j\",\"th\",\"drawCurrentShape\",\"lt\",\"ti\",\"percent\",\"percentFunction\",\"maxI\",\"animations_pSEaseInOutCubic\",\"time\",\"animationName\",\"simulator\",\"objectsL\",\"clearStack\",\"lights\",\"orbitControl\",\"plConf\",\"bg\",\"backgroundColor\",\"background\",\"displayGrid\",\"debugMode\",\"gridColor\",\"yS\",\"round\",\"squareByX\",\"offset\",\"xRel\",\"yRel\",\"zRel\",\"useOffset\",\"currMatrix\",\"recurseStack\",\"multMatrix\",\"Array\",\"xRelTmp\",\"_drawer_Plotter__WEBPACK_IMPORTED_MODULE_0__\",\"_drawer_Drawer__WEBPACK_IMPORTED_MODULE_1__\",\"_drawer_3DDrawer__WEBPACK_IMPORTED_MODULE_2__\",\"_utilities_Recorder__WEBPACK_IMPORTED_MODULE_3__\",\"beginTime\",\"now\",\"lastUpdateTime\",\"lastDrawTime\",\"getDefaultEngineConfig\",\"custom\",\"getCustomConfig\",\"getEngineConfig\",\"dtMoy\",\"runner\",\"rollbackControl\",\"minimalUpdateFPS\",\"dtTotal\",\"dtCount\",\"preRunSimulator\",\"e\",\"createP5Instance\",\"setAttributes\",\"recorder\",\"mousePos\",\"computeForXYFromPixel\",\"mouseX\",\"mouseY\",\"runSimulator\",\"getCanvasProportions\",\"proportions\",\"canvas\",\"createCanvas\",\"WEBGL\",\"parent\",\"divId\",\"ru\",\"UPDATE_FPS\",\"DRAW_FPS\",\"frameRate\",\"currentTime\",\"critiqDt\",\"maxStandardDeviation\",\"running\",\"frameBlocker\",\"simulationSpeed\",\"pauseMode\",\"snapshot\",\"averageTimeSample\",\"updateFPS\",\"currentRelT\",\"shouldSnap\",\"drawingFPS\",\"windowResized\",\"resizeCanvas\",\"mouseDragged\",\"movable\",\"cP\",\"isRelative\",\"windowWidth\",\"windowHeight\",\"customObject\",\"number\",\"params\",\"Function\",\"copyParamsTemp\",\"addingObjectsConfigKeyWords\",\"runFunctions\",\"slice\",\"runClass\",\"is_movable\",\"configFunc\",\"_Drawer__WEBPACK_IMPORTED_MODULE_0__\",\"drawer2D\",\"z0\",\"z1\",\"sphere\",\"cone\",\"box\",\"cylinder\",\"plane\",\"modelRef\",\"normalMat\",\"normalMaterial\",\"model\",\"transform\",\"id\",\"pixelDatas\",\"registeringTimes\",\"setup\",\"pixelDensity\",\"clearPixelArray\",\"cause\",\"loadPixels\",\"toDataURL\",\"dataURL\",\"downloadDatas\",\"saveJSON\",\"getDatasToJSON\",\"drawFrameCount\",\"updateFrameCount\",\"times\",\"realTimeLength\",\"videoTimeLength\",\"timeOperations\",\"pixels\",\"pixelDatasSize\",\"pointName\",\"pointSize\",\"vectorName\",\"drawOriginVector\",\"pointSizeDrawing\",\"textPadding\",\"parseInt\",\"p0\",\"fillColor\",\"strokeColor\",\"setCoordinates\",\"pG\",\"global\",\"_drawer_objects_Point__WEBPACK_IMPORTED_MODULE_1__\",\"_drawer_objects_Text__WEBPACK_IMPORTED_MODULE_2__\",\"_drawer_objects_Triangle__WEBPACK_IMPORTED_MODULE_3__\",\"_drawer_Animation__WEBPACK_IMPORTED_MODULE_4__\",\"_utilities_Vector__WEBPACK_IMPORTED_MODULE_8__\",\"pSPoint\",\"pSTriangle\",\"pSAnimation\",\"Simulator\",\"main\",\"p5\",\"instanciate\",\"getPSEngineVar\",\"Promise\",\"resolve\",\"reject\",\"document\",\"readyState\",\"addEventListener\",\"then\"],\"mappings\":\"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\"}","code":"var pSEngine=function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"/\",i(i.s=10)}([function(t,e,i){\"use strict\";i(1);class s{constructor(t,e,i,s=\"rgb(255, 255, 255)\",r,n=1.3){this.x=t||0,this.y=e||0,this.z=i||0,this.color=s,this.setName(r,s,n)}set(t,e,i){return t instanceof s?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):(this.x=t||0,this.y=e||0,this.z=i||0,this)}setName(t,e,i=1.3){return null==t||(t instanceof pSText?this.name=t:this.name=new pSText(t,this,i,e)),this}equals(t,e,i){return t instanceof s?this.equals(t.x,t.y,t.z):this.x==t&&this.y==e&&this.z==i}copy(){return new s(this.x,this.y,this.z)}clear(){return this.set(0,0,0)}toString(){return`Vector Object : [${this.x}, ${this.y}, ${this.z}]`}add(t,e,i){return t instanceof s?this.add(t.x,t.y,t.z):(this.x+=t||0,this.y+=e||0,this.z+=i||0,this)}sub(t,e,i){return t instanceof s?this.sub(t.x,t.y,t.z):(this.x-=t||0,this.y-=e||0,this.z-=i||0,this)}mult(t){return\"number\"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn(\"Vector::mult()\",\"c is undefined or isn't a finite number\"),this)}div(t){return\"number\"==typeof t&&isFinite(t)?0==t?(console.error(\"Cannot divide by 0\"),this):this.mult(1/t):(console.warn(\"Vector::div()\",\"c is undefined or isn't a finite number\"),this)}static add(t,e){return t.copy().add(e)}static sub(t,e){return t.copy().sub(e)}static mult(t,e){return t.copy().mult(e)}static div(t,e){return t.copy().div(e)}dot(t,e,i){return t instanceof s?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(i||0)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.mag();return 0!==t&&this.div(t),this}limit(t,e){let i=this.mag();return i<t&&this.div(i).mult(t),i>e&&this.div(i).mult(e),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setMag(t){return this.normalize().mult(t)}rotate(t){const e=this.getAngle()+t,i=this.mag();return this.x=Math.cos(e)*i,this.y=Math.sin(e)*i,this}getAngle(){return Math.atan2(this.y,this.x)}static dist(t,e){return s.sub(t,e).mag()}static dot(t,e,i,s){return t.copy().dot(e,i,s)}static cross(t,e){return t.copy().cross(e)}static normalize(t){return t.copy().normalize()}static rotate(t,e){return t.copy().rotate(e)}draw(t,e,i){null!=t?s.draw(t,this,this.color,e,i):s.draw(void 0,this,this.color,e,i)}static draw(t=new s,e,i=\"rgb(255, 255, 255)\",r=5,n=1){let o=_pSimulationInstance.plotter;if(_pSimulationInstance.config.engine.plotter.is_3D)r/=3,push(),o.drawer.stroke(i).strokeWeight(n).fill(i),null!=t&&o.drawer.translate(t.x,t.y,t.z),o.drawer.line(0,0,0,e.x,e.y,e.z),pop();else{push(),o.drawer.stroke(i).strokeWeight(n).fill(i).line(t.x,t.y,t.x+e.x,t.y+e.y);let s=o.computeForXYZ(t.x,t.y,t.z,!1);translate(s.x,s.y),push();let a=o.computeForXYZ(0,0,0),h=o.computeForXYZ(e.x,e.y,e.z);if(translate(h.x,h.y),rotate(h.sub(a).getAngle()),translate(-r-2,0),triangle(0,r/2,0,-r/2,r,0),pop(),null!=e.name){let t=e.getAngle();t<0&&(t+=2*PI);let s=.01*e.name.svgImg.width;(PI/4<t&&t<=PI/2||3*PI/4<t&&t<=5*PI/4||3*PI/2<t&&t<=7*PI/4)&&(s*=-1);let r=.01*e.name.svgImg.height;(PI/4<t&&t<=PI/2||PI/2<t&&t<=3*PI/4||PI<t&&t<=5*PI/4||7*PI/4<t&&t<=2*PI)&&(r*=-1),e.name.setColor(i).draw(e.name.pos.copy().div(2).add(s,r))}pop()}return this}}e.a=s},function(t,e,i){\"use strict\";e.a=class{constructor(t,e=new Vector,i=1,s=\"#FFFFFF\",r=!1){null==window.MathJax&&console.error(\"You must import MathJax.js >=3.0.0 in order to use Text and Tex strings.\"),this.textSize=i,this.color=s,this.pos=e,this.showHitbox=r,this.setText(t)}draw(t){let e=_pSimulationInstance.plotter.drawer,i=e.plotter.computeForXYZ(this.pos.x,this.pos.y);if(null!=t&&(i=e.plotter.computeForXYZ(t.x,t.y)),push(),translate(-this.svgImg.width/2,-this.svgImg.height/2),image(this.svgImg,i.x,i.y,this.svgImg.width,this.svgImg.height),this.showHitbox){let t=this.svgImg.height,s=this.svgImg.width;e.stroke(this.color).strokeWeight(1).noFill(),line(i.x,i.y,i.x+s,i.y),line(i.x,i.y+t,i.x+s,i.y+t),line(i.x,i.y+t,i.x,i.y),line(i.x+s,i.y+t,i.x+s,i.y)}pop()}setText(t){this.text=t;let e=\"<svg\"+MathJax.tex2svg(this.text,{display:!0,em:12,ex:6,containerWidth:480,lineWidth:1e5,scale:1}).innerHTML.split(\"<svg\")[1].split(\"</svg>\")[0]+\"</svg>\";return e=e.replace(/<g/g,'<g color=\"'+this.color+'\"').replace(/width=\"(.*?)\"/,'width=\"'+parseFloat(/width=\"(.*?)\"/.exec(e)[1].split(\"ex\")[0])*this.textSize+'ex\"').replace(/height=\"(.*?)\"/,'height=\"'+parseFloat(/height=\"(.*?)\"/.exec(e)[1].split(\"ex\")[0])*this.textSize+'ex\"'),this.svgImg=loadImage(URL.createObjectURL(new Blob([e],{type:\"image/svg+xml\"}))),this}setPosition(t,e){return this.pos.x=t,this.pos.y=e,this}setColor(t){return this.color=t,this}}},function(t,e,i){\"use strict\";e.a=class{constructor(t){this.plotter=null,this.stack=[],this.stackPointer=[]}clearStack(){this.stack=[],this.stackPointer=[],this.currentStackLevel=this.stack}pushStackOperation(t,e,i=0,s=1){let r=[[0,0,0],[0,0,0],[0,0,0]];switch(t){case\"t\":r=[[1,0,e.x],[0,1,e.y],[0,0,1]];break;case\"r\":r=[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]];break;case\"s\":r=[[s,0,0],[0,s,0],[0,0,1]]}this.getCurrentStackLevel().push({m:r})}getCurrentStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length;e++)t=t[this.stackPointer[e]];return t}enterStackLevel(){let t=this.getCurrentStackLevel();this.stackPointer.push(t.length),t.push([])}exitStackLevel(){let t=this.stack;for(let e=0;e<this.stackPointer.length-1;e++)t=t[this.stackPointer[e]];this.stackPointer.pop(),t.pop()}point(t,e){let i=this.plotter.computeForXYZ(t,e);return point(i.x,i.y),this}line(t,e,i,s){let r=this.plotter.computeForXYZ(t,e),n=this.plotter.computeForXYZ(i,s);return line(r.x,r.y,n.x,n.y),this}setLineDash(t=5,e=5){return drawingContext.setLineDash([t,e]),this}clearLineDash(){return drawingContext.setLineDash([]),this}ellipse(t,e,i,s,r=!1){let n=this.plotter.computeForXYZ(t,e);if(null==s&&(s=i),r)ellipse(n.x,n.y,i,s);else{let r=this.plotter.computeForXYZ(i,s,0,!1);this.ellipse(t,e,2*r.x,2*r.y,!0)}return this}circle(t,e,i,s=!1){return this.ellipse(t,e,i,i,s)}rect(t,e,i,s,r=!1){if(!r)return this.beginShape().vertex(t+i,e).vertex(t+i,e+s).vertex(t,e+s).vertex(t,e).endShape(CLOSE);let n=this.plotter.computeForXYZ(t,e);return rect(n.x,n.y,i,s),this}arc(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e),a=this.plotter.computeForXYZ(i,s,0,!1);return arc(o.x,o.y,a.x,a.y,-n,-r),this}stroke(t,e,i,s){return null==s?null==i?null==e?stroke(t):stroke(t,e):stroke(t,e,i):stroke(`rgba(${t}, ${e}, ${i}, ${s})`),this}strokeWeight(t){return strokeWeight(t),this}fill(t,e,i,s){return null==s?null==i?null==e?fill(t):fill(t,e):fill(t,e,i):fill(`rgba(${t}, ${e}, ${i}, ${s})`),this}beginShape(t){return beginShape(t),this}bezier(t,e,i,s,r,n,o,a){let h=_pSimulationInstance.plotter.computeForXYZ(t,e),l=_pSimulationInstance.plotter.computeForXYZ(i,s),u=_pSimulationInstance.plotter.computeForXYZ(r,n),c=_pSimulationInstance.plotter.computeForXYZ(o,a);return bezier(h.x,h.y,l.x,l.y,u.x,u.y,c.x,c.y),this}vertex(t,e){let i=this.plotter.computeForXYZ(t,e);return vertex(i.x,i.y),this}endShape(t){return endShape(t),this}push(){return this.enterStackLevel(),push(),this}pop(){return this.exitStackLevel(),pop(),this}translate(t,e){return this.pushStackOperation(\"t\",{x:t,y:e},0,1),this}rotate(t){return this.pushStackOperation(\"r\",{x:0,y:0},t,1),this}scale(t){return this.pushStackOperation(\"s\",{x:0,y:0},0,t),this}noStroke(){return noStroke(),this}noFill(){return noFill(),this}}},function(t,e,i){\"use strict\";var s=class{constructor(t,e){this.scaleTime=1,this.isAnimating=!1,this.initialT=0,this.datas=e,this.timeLength=t,this.lastKey=this.getKey(this.update)/this.scaleTime}start(){this.isAnimating=!0,this.initialT=(new Date).getTime()/1e3}stop(){this.isAnimating=!1,this.initialT=0}getKey(t){let e=(new Date).getTime()/1e3-this.initialT;return e>this.timeLength?this.finalDraw(this):(this.lastKey=t(e,this)/this.scaleTime,this.lastKey)}updateKey(){return this.getKey(this.update)}drawKey(){return this.getKey(this.draw)}update(){}draw(){}};var r=class extends s{constructor(t,e){super(t,e),this.i=-1,this.currentShape=this.nextShape(e),this.localDt=0}nextShape(t){this.i++;let e=this.i+1;return e>t.length-1&&(e=0),[t[this.i],t[e]]}update(t,e){}draw(t,e){let i=e.timeLength/e.datas.length;null!=e.currentShape[0]&&null!=e.currentShape[1]&&t-e.localDt>=i&&(e.currentShape=e.nextShape(e.datas),e.localDt+=i),e.drawCurrentShape(e.datas,(t,e,i,s)=>{let r=1;return t==i&&(r=e/s),r},e,e.i+1,t-e.localDt,i)}finalDraw(t){this.drawCurrentShape(this.datas,()=>1,this,this.datas.length,0)}drawCurrentShape(t,e,i,s,r,n){for(let o=0;o<s;o++){let s=e(o,r,i.i,n),a=o+1;a>=t.length&&(a=0),_pSimulationInstance.plotter.drawer.noFill().strokeWeight(3).stroke(255).line(t[o].pos.x,t[o].pos.y,t[o].pos.x+(t[a].pos.x-t[o].pos.x)*s,t[o].pos.y+(t[a].pos.y-t[o].pos.y)*s)}}};var n=class extends s{constructor(t,e){super(t,e),null==this.datas.min&&(this.datas.min=0),null==this.datas.max&&(this.datas.max=1)}update(t,e){let i=t/e.timeLength;return i<.5?2*i*i*(e.datas.max-e.datas.min)+e.datas.min:((4-2*i)*i-1)*(e.datas.max-e.datas.min)+e.datas.min}draw(t,e){}finalDraw(t){return t.datas.max}};e.a=class{static new(t,e=1,i={}){switch(t||(t=\"easeInOutCubic\"),t){case\"easeInOutCubic\":return new n(e,i);case\"interpolation\":return new r(e,i)}}}},function(t,e,i){\"use strict\";i(0);e.a=class{constructor(t,e){this.simulator=t,this.drawer=e,this.objectsL=[],this.drawer.plotter=this}update(t){this.drawer.clearStack(),this.simulator.config.engine.plotter.is_3D&&(lights(),orbitControl(5,5));for(let e=0;e<this.objectsL.length;e++)this.objectsL[e].update(t,this.objectsL)}draw(){let t=this.simulator.config.engine.plotter,e=t.backgroundColor.color;t.backgroundColor.draw&&background(e.r,e.g,e.b);for(let t=0;t<this.objectsL.length;t++)this.objectsL[t].draw(this.drawer);if(this.simulator.config.engine.plotter.displayGrid)if(this.simulator.config.engine.plotter.is_3D)debugMode(100,10,0,0,0,20,0,-40,0);else{this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5);let e=Math.round(height/t.scale.y/2);t.squareByX||(e=t.scale.y);for(let i=-t.scale.x-1;i<t.scale.x+1;i++)for(let s=-e-1;s<e+1;s++)this.drawer.rect(i+t.offset.x,s+t.offset.y,1,1);this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a+.3).strokeWeight(2).line(-t.scale.x+t.offset.x-1,0,t.scale.x+t.offset.x+1,0),t.squareByX?this.drawer.line(0,-e-1,0,e+1):this.drawer.line(0,-t.scale.y-1,0,t.scale.y+1)}this.drawer.noFill().stroke(t.gridColor.r,t.gridColor.g,t.gridColor.b,t.gridColor.a).strokeWeight(.5)}computeForXYZ(t,e,i,s=!0){let r=this.simulator.config.engine.plotter;if(!r.is_3D){let i=this.simulator.plotter.drawer.stack,s=[[1,0,0],[0,1,0],[0,0,1]];!function t(e,i){if(e instanceof Array)for(let s=0;s<e.length;s++)t(e[s],i);else s=null==s?e.m:i(s,e.m)}(i,this.multMatrix);let r=t;t=t*s[0][0]+e*s[0][1]+s[0][2],e=r*s[1][0]+e*s[1][1]+s[1][2]}if(s||r.is_3D||!r.squareByX){if(r.is_3D){let s=180*.28;return new Vector((t+r.offset.x)/r.scale.x*s,(-e+r.offset.y)/r.scale.y*s,(i+r.offset.z)/r.scale.z*s)}{let i=new Vector(((t-r.offset.x)/r.scale.x+1)*width/2,0,((t+r.offset.z)/r.scale.z+1)*width/2);return r.squareByX?i.y=(-e+r.offset.y)/r.scale.x*width/2+height/2:i.y=((-e+r.offset.y)/r.scale.y+1)*height/2,i}}{let s=this.computeForXYZ(0,0,0),r=this.computeForXYZ(t,e,i);return new Vector(r.x-s.x,r.y-s.y,r.z-s.z)}}computeForXYFromPixel(t,e){let i=_pSimulationInstance.config.engine.plotter,s=new Vector((2*t/width-1)*i.scale.x+i.offset.x);return i.squareByX?s.y=-(e-height/2)/width*2*i.scale.x+i.offset.y:s.y=-(2*(e-2*height)/width*i.scale.y-i.offset.y),s}multMatrix(t,e){let i=[[0,0,0],[0,0,0],[0,0,0]];for(let s=0;s<t.length;s++)for(let r=0;r<e.length;r++)i[s][r]=t[s][0]*e[0][r]+t[s][1]*e[1][r]+t[s][2]*e[2][r];return i}}},function(t,e,i){\"use strict\";var s=i(4),r=i(2),n=i(6),o=i(7);e.a=class{constructor(){this.config={},this.beginTime=Date.now(),this.lastUpdateTime=Date.now(),this.lastDrawTime=Date.now(),this.config.engine=this.getDefaultEngineConfig(),this.config.custom={},window.getCustomConfig=this.getCustomConfig,window.getEngineConfig=this.getEngineConfig,this.dtMoy=this.config.engine.runner.rollbackControl.minimalUpdateFPS,this.dtTotal=0,this.dtCount=0}instanciate(){try{window.preRunSimulator(this)}catch(t){}this.createP5Instance(),this.config.engine.plotter.is_3D?this.plotter=new s.a(this,new n.a):(setAttributes(\"antialias\",!0),this.plotter=new s.a(this,new r.a)),this.recorder=new o.a,this.mousePos=this.plotter.computeForXYFromPixel(mouseX,mouseY),window.runSimulator(this)}createP5Instance(){let t=this.getCanvasProportions(this.config.engine.window.proportions);this.config.engine.plotter.is_3D?this.canvas=createCanvas(t.w,t.h,WEBGL):this.canvas=createCanvas(t.w,t.h),this.canvas.parent(this.config.engine.runner.divId);let e=this.config.engine.runner;e.UPDATE_FPS>=e.DRAW_FPS?frameRate(e.UPDATE_FPS):console.error(\"The Updates FPS must be superior as the Draws FPS.\"),window.draw=function(){let t=_pSimulationInstance,e=Date.now(),i=(e-t.lastUpdateTime)/1e3,s=t.dtMoy+t.dtMoy*t.config.engine.runner.rollbackControl.maxStandardDeviation;if(t.mousePos=t.plotter.computeForXYFromPixel(mouseX,mouseY),!t.recorder.running||t.recorder.running&&!t.recorder.frameBlocker)i>s&&(i=t.dtMoy),t.lastUpdateTime=e,t.plotter.update(i*t.config.engine.runner.simulationSpeed),t.recorder.running&&!t.recorder.pauseMode&&t.recorder.snapshot(i),e-t.lastDrawTime>=1/t.config.engine.runner.DRAW_FPS&&(i<=s&&(t.dtTotal+=i,t.dtCount+=1,t.dtCount%t.config.engine.runner.rollbackControl.averageTimeSample==0&&(t.dtMoy=t.dtTotal/t.dtCount,t.dtTotal=0,t.dtCount=0)),t.plotter.draw(),t.lastDrawTime=e);else{if(t.recorder.pauseMode)return;i=1/t.recorder.updateFPS,t.recorder.currentRelT+=i;let e=!1;t.recorder.currentRelT-t.recorder.lastDrawTime>=1/t.recorder.drawingFPS&&(i=1/t.recorder.drawingFPS,e=!0),t.lastUpdateTime=t.recorder.currentRelT,t.plotter.update(i),e&&(t.plotter.draw(),t.recorder.snapshot(i),t.recorder.lastDrawTime=t.recorder.currentRelT)}},window.windowResized=function(){if(_pSimulationInstance.recorder.running&&_pSimulationInstance.recorder.frameBlocker)return;let t=_pSimulationInstance.getCanvasProportions(_pSimulationInstance.config.engine.window.proportions);resizeCanvas(t.w,t.h)},window.mouseDragged=function(){if(!_pSimulationInstance.config.engine.runner.movable)return;let t=_pSimulationInstance.plotter.computeForXYFromPixel(mouseX,mouseY);_pSimulationInstance.mousePos.equals(t)||(_pSimulationInstance.config.engine.plotter.offset.x-=t.x-_pSimulationInstance.mousePos.x,_pSimulationInstance.config.engine.plotter.offset.y-=t.y-_pSimulationInstance.mousePos.y)}}getCanvasProportions(t){let e,i;return t.isRelative?(e=windowWidth*t.width,i=windowHeight*t.height):(e=t.width+\"px\",i=t.height+\"px\"),{w:e,h:i}}addObjects(t,e=1,...i){if(t instanceof Function)for(let s=0;s<e;s++){let e=[];for(let t=0;t<i.length;t++)i[t]instanceof Array&&null!=i[t][0]&&null!=i[t][1]&&i[t][1]instanceof Function?i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runFunctions?e.push(i[t][1](...i[t].slice(2))):i[t][0]==this.config.engine.runner.addingObjectsConfigKeyWords.runClass&&e.push(new i[t][1](...i[t].slice(2))):e.push(i[t]);this.plotter.objectsL.push(new t(...e))}else this.plotter.objectsL.push(t);return this}getDefaultEngineConfig(){return{runner:{divId:\"simulationContent\",UPDATE_FPS:120,DRAW_FPS:60,simulationSpeed:1,addingObjectsConfigKeyWords:{runFunctions:\"_RUN_F\",runClass:\"_RUN_C\"},rollbackControl:{maxStandardDeviation:.8,averageTimeSample:20,minimalUpdateFPS:.15},is_movable:!1},window:{proportions:{isRelative:!0,width:.99,height:.99}},plotter:{scale:{x:10,y:10,z:10},offset:{x:0,y:0,z:0},backgroundColor:{draw:!0,color:{r:0,g:0,b:0}},squareByX:!1,is_3D:!1,gridColor:{r:255,g:255,b:255,a:.3},displayGrid:!1}}}setPreEngineConfig(t){return t(this.config.engine),this}setEngineConfig(t){return t(this.config.engine),window.windowResized(),this}setCustomConfig(t){return t(this.config.custom),this}getEngineConfig(){return window._pSimulationInstance.config.engine}getCustomConfig(){return window._pSimulationInstance.config.custom}getPSEngineVar(){}}},function(t,e,i){\"use strict\";var s=i(2);e.a=class{constructor(t){this.plotter=null,this.drawer2D=new s.a(t),this.stroke=this.drawer2D.stroke,this.strokeWeight=this.drawer2D.strokeWeight,this.fill=this.drawer2D.fill,this.noStroke=this.drawer2D.noStroke,this.noFill=this.drawer2D.noFill}translate(t,e,i){let s=this.plotter.computeForXYZ(t,e,i);return translate(s.x,s.y,s.z),this}beginShape(t){return beginShape(t),this}endShape(){return endShape(),this}vertex(t,e,i){let s=this.plotter.computeForXYZ(t,e,i);return vertex(s.x,s.y,s.z),this}clearStack(){return this}line(t,e,i,s,r,n){let o=this.plotter.computeForXYZ(t,e,i),a=this.plotter.computeForXYZ(s,r,n);return beginShape(),vertex(o.x,o.y,o.z),vertex(a.x,a.y,a.z),endShape(),this}sphere(t,e,i,s){return push(),this.translate(t,e,i),sphere(s),pop(),this}cone(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),cone(n.x,n.y),pop(),this}box(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),box(n.x,n.y),pop(),this}cylinder(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),cylinder(n.x,n.y),pop(),this}plane(t,e,i,s,r){let n=this.plotter.computeForXYZ(s,r,0);return push(),this.translate(t,e,i),plane(n.x,n.y),pop(),this}scale(t){return scale(t),this}model(t,e){return push(),scale(-1),e&&normalMaterial(),model(t),pop(),this}transform(t,e,i){return transform(t,e,i),this}}},function(t,e,i){\"use strict\";e.a=class{constructor(){this.name=\"Canvas-Recorder\",this.id=0,this.pixelDatas=[],this.registeringTimes=[],this.setup(60,120,!0)}setup(t,e,i,s,r){this.width=e,this.height=i,this.pixelDensity=pixelDensity,this.frameBlocker=r,this.drawingFPS=t,this.updateFPS=s,this.running=!1,this.pauseMode=!1,this.currentRelT=0,this.lastDrawTime=0}start(t=60,e=1920,i=1080,s=120,r=!0,n=!0){this.setup(t,e,i,s,r),n&&(this.pixelDatas=[],this.registeringTimes=[],this.id++),this.registeringTimes.push({t:Date.now()/1e3,cause:\"start\"}),this.running=!0,resizeCanvas(e,i)}snapshot(t){this.running&&!this.pauseMode&&(loadPixels(),this.frameBlocker?this.pixelDatas.push(canvas.toDataURL()):this.pixelDatas.push({time:Date.now(),dt:t,dataURL:canvas.toDataURL()}))}stop(t=!0,e=!0){this.running=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:\"stop\"}),t&&saveJSON(this.getDatasToJSON(),this.name+\"-\"+this.id+\".json\"),e&&(this.pixelDatas=[],this.registeringTimes=[]),windowResized()}pause(){this.pauseMode=!0,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:\"pause\"})}resume(){this.pauseMode=!1,this.registeringTimes.push({t:Date.now()/1e3-this.registeringTimes[0].t,cause:\"resume\"})}getDatasToJSON(){return{config:{width:this.width,height:this.height,pixelDensity:this.pixelDensity,drawFrameCount:this.frameBlocker?this.drawingFPS:\"variable\",updateFrameCount:this.frameBlocker?this.updateFPS:\"variable\"},datas:{times:{realTimeLength:this.registeringTimes[this.registeringTimes.length-1].t,videoTimeLength:this.frameBlocker?1/this.drawingFPS*this.pixelDatas.length:\"variable\",timeOperations:this.registeringTimes},pixels:{pixelDatasSize:this.pixelDatas.length,pixelDatas:this.pixelDatas}}}}}},function(t,e,i){\"use strict\";i(0),i(3),i(1);e.a=class{constructor(t,e,i=\"white\",s,r=6,n,o=!0){this.pos=new Vector(t,e,i,n),null!=s&&(this.pointName=new pSText(s,this.pos,18,i)),this.drawOriginVector=o,this.pointSize=r,this.pointSizeDrawing=r,this.textPadding=.4}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;t.fill(parseInt(.4*this.pos.color[0]),parseInt(.4*this.pos.color[1]),parseInt(.4*this.pos.color[2])).noStroke().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing).stroke(this.pos.color).strokeWeight(1.1).noFill().ellipse(this.pos.x,this.pos.y,this.pointSizeDrawing,this.pointSizeDrawing),null!=this.pos.name&&this.drawOriginVector&&this.pos.draw(),null!=this.pointName&&(this.pointName.pos=this.pos.copy().add(0,this.textPadding),null!=this.pos.name&&this.drawOriginVector&&this.pos.y<0&&(this.pointName.pos=this.pos.copy().add(0,-this.textPadding)),this.pointName.draw(t))}}},function(t,e,i){\"use strict\";i(0),i(3),i(1);e.a=class{constructor(t,e=new Vector,i=new Vector,s=\"white\",r=\"none\",n=1){this.setCoordinates(t,e,i),this.fillColor=s,this.strokeColor=r,this.strokeWeight=n}setCoordinates(t,e,i){this.p0=t||new Vector(t.x,t.y),this.p1=null==e?this.p1:new Vector(e.x,e.y),this.p2=null==i?this.p2:new Vector(i.x,i.y),this.pG=Vector.div(Vector.add(Vector.add(this.p0,this.p1),this.p2),3),this.v0=Vector.sub(this.p0,this.pG),this.v1=Vector.sub(this.p1,this.pG),this.v2=Vector.sub(this.p2,this.pG)}rotate(t){this.v0.rotate(t),this.v1.rotate(t),this.v2.rotate(t),this.p0=Vector.add(this.v0,this.pG),this.p1=Vector.add(this.v1,this.pG),this.p2=Vector.add(this.v2,this.pG)}translate(t,e){return this.setCoordinates(Vector.add(this.p0,new Vector(t,e)),Vector.add(this.p1,new Vector(t,e)),Vector.add(this.p2,new Vector(t,e))),this}translate(t){return this.translate(t.x,t.y),this}update(t){}draw(){let t=_pSimulationInstance.plotter.drawer;\"none\"==this.fillColor?t.noFill():t.fill(this.fillColor),\"none\"==this.strokeColor?t.noStroke():t.stroke(this.strokeColor).strokeWeight(this.strokeWeight),t.push().beginShape().vertex(this.p0.x,this.p0.y).vertex(this.p1.x,this.p1.y).vertex(this.p2.x,this.p2.y).vertex(this.p0.x,this.p0.y).endShape().pop()}}},function(t,e,i){t.exports=i(11)},function(t,e,i){\"use strict\";i.r(e),function(t){i(5);var e=i(8),s=i(1),r=i(9),n=i(3),o=(i(2),i(6),i(4),i(0));i(7),i(13);t.pSPoint=e.a,t.pSText=s.a,t.pSTriangle=r.a,t.pSAnimation=n.a,t.Vector=o.a}.call(this,i(12))},function(t,e){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e,i){\"use strict\";var s=i(5);var r=class{constructor(){null==window.p5&&console.error(\"You must import p5.js in order to run the Physics Simulation Engine.\",\"More informations on the p5 website https://p5js.org/.\"),window.setup=function(){window._pSimulationInstance=new s.a,window._pSimulationInstance.instanciate(),window.pSEngine=window._pSimulationInstance.getPSEngineVar()}}};new Promise((t,e)=>{\"loading\"===document.readyState?t():window.addEventListener(\"load\",t,!1)}).then(()=>{new r})}]);","extractedComments":[]}